import{o as n,f as r,b as t,t as l,A as g,a as i,F as h,m as f,u as m,d}from"./app-b0042f5f.js";import{_,a as y}from"./Header-a57f9c1a.js";import{_ as u}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as v}from"./Footer-d20659e8.js";import{l as w,k as b,m as P,F as p}from"./index-71c89868.js";import{B as $}from"./baseurl-66277324.js";import"./logo-6ff3b84f.js";import"./index-6975d92b.js";const j={props:{title:{type:String,required:!0},context:{type:String,required:!0},description:{type:String,required:!0},image:{type:String}}},k={class:"z-1 header w-full overflow-y-hidden h-full justify-center items-center xl:h-screen bg-white flex text-theme1 flex-col-reverse xl:flex-row"},C={class:"z-10 w-3/4 xl:mx-20 mb-10 xl:mb-0 overflow-y-hidden xl:py-24 pt-10 xl:rounded-lg px-10 xl:px-0 h-full xl:h-full flex flex-col justify-center items-center"},N={class:"xl:text-3xl text-l text-center","data-aos":"fade-down","data-aos-duration":"1000","data-aos-delay":"700"},S={class:"xl:text-l text-base text-center xl:mb-10 xl:px-10 mb-0 text-theme2 drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)]","data-aos":"fade-down","data-aos-duration":"1000","data-aos-delay":"800"},T={class:"xl:px-10 text-start xl:text-md text-sm my-10","data-aos":"fade-right","data-aos-duration":"1000","data-aos-delay":"1000"},A={class:"overflow-y-hidden w-screen xl:h-full h-max py-20 flex justify-center items-center xl:mr-20","data-aos":"zoom-out","data-aos-duration":"1000","data-aos-delay":"500"},B=["src"];function D(s,e,a,o,c,x){return n(),r("div",k,[t("div",C,[t("p",N,l(a.title),1),t("p",S,l(a.description),1),t("p",T,l(a.context),1)]),t("div",A,[t("img",{src:a.image,alt:"image",class:"xl:w-3/4 xl:h-96 object-cover rounded-lg hover:scale-110 transition duration-500"},null,8,B)])])}const I=u(j,[["render",D]]);const q={props:{context:{type:String,required:!0},image:{type:String}}},z={class:"mx-2 xl:mx-0 img xl:px-5 my-5 xl:my-10 flex justify-center items-center flex-col drop-shadow-2xl"},F=["src"],V={class:"text-xs xl:text-md mt-4 text-theme1"};function E(s,e,a,o,c,x){return n(),r("div",z,[t("img",{src:a.image,class:"card hover:scale-125 transition duration-700 overflow-y-hidden img object-cover object-center rounded-lg",alt:""},null,8,F),t("p",V,l(a.context),1)])}const L=u(q,[["render",E]]);const U={class:"h-max w-screen flex flex-col justify-center"},H=t("div",{class:"xl:h-screen py-80 xl:py-0 w-screen newsbg bg-theme1 flex flex-col justify-center items-center","data-aos":"fade","data-aos-duration":"1000"},[t("p",{class:"xl:text-6xl text-3xl text-white","data-aos":"fade-up","data-aos-delay":"700","data-aos-duration":"1200"}," What's New? "),t("p",{class:"xl:text-xl xl:mt-5 text-white text-center","data-aos":"fade-up","data-aos-delay":"500","data-aos-duration":"1000"},[d(" Keep posted to see the latest posts of "),t("br")]),t("p",{class:"text-theme2 xl:text-5xl text-3xl mx-2 text-center drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)]","data-aos":"fade-up","data-aos-delay":"1100","data-aos-duration":"1000"}," Co-operative College of the Philippines ")],-1),O=t("div",{class:"w-screen bg-theme2 h-4 xl:hidden flex"},null,-1),R={class:"h-max bg-white justify-center items-center w-screen flex xl:py-10 xl:px-20 flex-wrap"},K={class:"w-screen flex justify-center items-center xl:space-x-2 text-md bg-white"},M=["disabled"],W=["disabled"],G={data(){return{title:"",description:"",context:"",img:"",pid:"",postsnohead:[],pageposts:[],currentPage:1,perPage:6,heading:{}}},mounted(){this.fetchData()},computed:{totalPages(){return Math.ceil(this.pageposts.length/this.perPage)},paginatedPosts(){const s=(this.currentPage-1)*this.perPage,e=s+this.perPage;return this.pageposts.slice(s,e)}},methods:{sliceText(s,e){return s.length>e?s.slice(0,200)+" ...":s},navigateToPost(s){window.location.href=this.route("ViewPost",{Postid:s})},async fetchData(){try{const s=await axios.get($+"/paginateDisplayPost");console.log(s),this.heading=s.data.data[0],console.log(this.heading),this.title=this.heading.newsTitle,this.description=this.heading.Description,this.context=this.heading.Context,this.img=this.heading.avatar.ImageUrl,console.log(this.img),this.pid=this.heading.Postid,this.pageposts=s.data.data.slice(1),console.log(this.pageposts)}catch(s){console.error(s)}}}};g.init({startEvent:"load",once:"true,"});g.refresh();const ae=Object.assign(G,{__name:"News",setup(s){return w.add(b,P),(e,a)=>(n(),r(h,null,[i(_),i(y),t("div",U,[H,i(I,{title:e.title,description:e.sliceText(e.description,10),context:e.sliceText(e.context,200),image:e.img,class:"clickable-div z-1",onClick:a[0]||(a[0]=o=>e.navigateToPost(e.pid))},null,8,["title","description","context","image"]),O,t("div",R,[(n(!0),r(h,null,f(e.paginatedPosts,(o,c)=>(n(),r("div",{key:o.Postid,class:"overflow-y-hidden flex items-center justify-center xl:px-15"},[i(L,{image:o.avatar.ImageUrl,context:e.sliceText(o.Context,200),"data-aos":"fade-up","data-aos-duration":"1000","data-aos-delay":"200",class:"clickable-div text-md overflow-y-hidden",onClick:x=>e.navigateToPost(o.Postid)},null,8,["image","context","onClick"])]))),128))]),t("div",K,[t("button",{class:"py-3 border-2 border-theme1 px-4 my-2 mx-2 rounded-lg hover:bg-theme1 hover:text-white transition duration-300 text-theme1 active:-translate-x-2",disabled:e.currentPage===1,onClick:a[1]||(a[1]=o=>e.currentPage--)},[i(m(p),{icon:"fa-solid fa-angle-left ",class:"text-md"}),d(" Previous ")],8,M),t("button",{class:"py-3 border-2 border-theme1 px-8 my-2 mx-2 rounded-lg hover:bg-theme1 hover:text-white transition duration-300 text-theme1 active:translate-x-2",disabled:e.currentPage===e.totalPages,onClick:a[2]||(a[2]=o=>e.currentPage++)},[d(" Next "),i(m(p),{icon:"fa-solid fa-angle-right",class:"text-md"})],8,W)])]),i(v)],64))}});export{ae as default};
