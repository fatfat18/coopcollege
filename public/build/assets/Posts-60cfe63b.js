import{o as d,f as u,b as e,t as a,r as _,A as p,c as g,w as r,d as x,a as l,u as v,m as y,F as m,e as h}from"./app-d8d752a3.js";import{_ as b}from"./AuthenticatedLayout-1c3ee300.js";import{l as w,b as P,F as C}from"./index-bb4dd45a.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as j}from"./DeleteModal-7ba4edc2.js";import{_ as T}from"./Modal-b0c850a6.js";import{B as f}from"./baseurl-66277324.js";const S={props:{title:{type:String,required:!0},description:{type:String,required:!0},context:{type:String,required:!0},date_created:{type:String,required:!0},image:{type:String}}},k={class:"h-24 xl:h-32 max-w-7xl bg-white xl:px-8 xl:py-4 rounded-lg grid grid-cols-9 xl:gap-2 max-h-30 xl:max-h-40 text-[12px] xl:text-md pr-2 pl-2"},E={class:"flex justify-center text-center items-center col-span-1"},D=["src"],A={class:"flex justify-center text-center items-center col-span-1"},M={class:"flex justify-center text-center items-center col-span-1"},I={class:"flex justify-center xl:text-xs text-center items-center col-span-3 overflow-y-hidden text-[8px]"},N={class:"flex justify-center text-center items-center col-span-1"};function B(t,o,s,n,c,i){return d(),u("div",k,[e("div",E,[e("img",{src:s.image,alt:"Images",class:"xl:h-16 xl:w-32 h-12 w-24 object-contain object-top"},null,8,D)]),e("div",A,a(s.title),1),e("div",M,a(s.description),1),e("div",I,a(s.context),1),e("div",N,a(s.date_created),1),_(t.$slots,"default")])}const U=$(S,[["render",B]]);const F=e("h2",{class:"font-bold text-3xl leading-tight text-theme1"}," Manage Post ",-1),L={class:"py-8 postcontainer overflow-y-hidden h-max min-h-screen"},O={href:"/PostsEditor"},R={class:"xl:ml-16 my-4 mx-8 px-6 py-2 rounded-md bg-theme1 transition duration-150 border border-black text-theme2 hover:scale-110 hover:-translate-y-1"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-1 h-max overflow-y-hidden","data-aos":"fade-up","data-aos-duration":"1000"},V=e("div",{class:"max-w-7xl bg-white xl:px-8 xl:py-4 py-4 rounded-sm grid grid-cols-9 gap-4 xl:text-xs text-[10px] xl:text-md"},[e("div",{class:"flex justify-center text-center items-center col-span-1"}," IMAGE "),e("div",{class:"flex justify-center text-center items-center col-span-1"}," TITLE "),e("div",{class:"flex justify-center text-center items-center col-span-1"}," DESCRIPTION "),e("div",{class:"flex justify-center text-center items-center col-span-3"}," CONTEXT "),e("div",{class:"flex justify-center text-center items-center col-span-1"}," DATE CREATED "),e("div",{class:"flex justify-center text-center items-center col-span-1"}),e("div",{class:"flex justify-center text-center items-center col-span-1"})],-1),z={class:"flex justify-center text-center items-center col-span-1"},W=["onClick"],Y={class:"flex justify-center text-center items-center col-span-1"},G=["onClick"],X={class:"text-black text-l"},H=e("br",null,null,-1),J={class:"text-theme1"},K=e("br",null,null,-1),Q=e("h2",{class:"text-red-500 text-2xl"},"Delete Post",-1),Z=e("p",{class:"text-theme2 text-4xl mb-5"},"Success!",-1),ee={data(){return{items:[],showModal:!1,confirmdelmodal:!1,confirmname:"",itemcv:""}},mounted(){axios.get(f+"/displayPost").then(t=>{this.items=t.data,console.log(this.items)}).catch(t=>{console.log(t)})},methods:{sliceText(t,o){return t.length>o?t.slice(0,150)+"......":t},navigateToUpdate(t){window.location.href=this.route("PostsUpdate",{Postid:t})},confirmdel(t){this.showModal=!0,this.confirmname=t.newsTitle,this.itemid=t.Postid},navigatetoDelete(){this.showModal=!1,this.confirmdelmodal=!0,console.log(this.Postid);let t=new URLSearchParams,o=parseInt(this.itemid);t.append("Postid",o),axios.delete(f+"/deleteCategory?"+t.toString()).then(s=>{console.log(s.data);async function n(){await new Promise(c=>setTimeout(c,1e3)),window.location.href=route("Posts")}n()}).catch(s=>{console.log(s)})}}};p.init({startEvent:"load",once:"true,"});p.refresh();const le=Object.assign(ee,{__name:"Posts",setup(t){return w.add(P),(o,s)=>(d(),g(b,null,{header:r(()=>[F]),default:r(()=>[e("div",L,[e("a",O,[e("button",R,[x(" Add Post "),l(v(C),{icon:"fa-solid fa-plus",class:"pl-2 hover:text-white"})])]),e("div",q,[V,(d(!0),u(m,null,y(o.items,(n,c)=>(d(),u(m,{key:n.Postid},[l(U,{description:n.Description,image:n.avatar.ImageUrl,title:n.newsTitle,context:o.sliceText(n.Context,150),date_created:n.news_DateCreated,class:"xl:text-xs text-[9px]","data-aos":"fade-up","data-aos-duration":"500"},{default:r(()=>[e("div",z,[e("button",{button:"",onClick:i=>o.navigateToUpdate(n.Postid),class:"py-2 px-8 rounded-full bg-blue-400 xl:rounded-lg text-white text-[11px] xl:text-md transition duration-300 hover:text-blue-400 hover:bg-white border-2 border-blue-400"}," Edit ",8,W)]),e("div",Y,[e("button",{onClick:h(i=>o.confirmdel(n),["prevent"]),class:"transition duration-300 hover:text-red-500 hover:bg-white py-2 px-6 rounded-full bg-red-500 xl:rounded-lg text-white text-[11px] xl:text-md border-2 border-red-500"}," Delete ",8,G)]),l(j,{show:o.showModal,onClose:s[2]||(s[2]=i=>o.showModal=!1)},{default:r(()=>[e("h2",X,[x(" Are You Sure You Want to Delete Post "),H,e("span",J,a(o.confirmname),1),x("? ")]),K,e("button",{onClick:s[0]||(s[0]=h(i=>o.navigatetoDelete(),["prevent"])),class:"transition duration-300 rounded-lg hover:text-red-500 hover:bg-white border border-red-500 px-4 py-4 bg-red-500 text-white mx-2 text-sm"}," CONFIRM "),e("button",{class:"transition duration-300 rounded-lg hover:text-black hover:bg-white border border-zinc-400 px-4 py-4 bg-zinc-400 text-white mx-2 text-sm",onClick:s[1]||(s[1]=i=>o.showModal=!1)}," CANCEL ")]),_:1},8,["show"])]),_:2},1032,["description","image","title","context","date_created"]),l(T,{show:o.confirmdelmodal,onClose:s[3]||(s[3]=i=>o.confirmdelmodal=!1)},{default:r(()=>[Q,Z]),_:1},8,["show"])],64))),128))])])]),_:1}))}});export{le as default};
