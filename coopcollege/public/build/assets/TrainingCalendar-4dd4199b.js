import{o as c,f as m,b as e,t as o,r as p,A as _,c as v,w as l,d as a,a as d,u as g,m as y,F as x,e as h}from"./app-5e558d24.js";import{_ as b}from"./AuthenticatedLayout-92860456.js";import{l as w,b as C,F as T}from"./index-9c0cfeef.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as k}from"./DeleteModal-6b240622.js";import{_ as j}from"./Modal-0e1142c4.js";import{B as f}from"./baseurl-66277324.js";const S={props:{month:{type:String,required:!0},coursetitle:{type:String,required:!0},venue:{type:String,required:!0},year:{type:String,required:!0},buttonid:{type:Number,required:!0}}},E={class:"h-24 xl:h-32 max-w-7xl bg-white xl:px-8 xl:py-4 rounded-lg grid grid-cols-6 xl:gap-2 max-h-30 xl:max-h-40 text-[10px] xl:text-[12px] xl:text-md pr-4"},M={class:"flex justify-center text-center items-center"},A={class:"flex justify-center text-center items-center"},N={class:"flex justify-center text-center items-center"},V={class:"flex justify-center text-center items-center"};function D(t,s,n,r,u,i){return c(),m("div",E,[e("div",M,o(n.month),1),e("div",A,o(n.coursetitle),1),e("div",N,o(n.venue),1),e("div",V,o(n.year),1),p(t.$slots,"default")])}const U=$(S,[["render",D]]);const B=e("h2",{class:"font-bold text-3xl leading-tight text-theme1"}," Manage Training Calendar ",-1),I={class:"py-8 postcontainer overflow-y-hidden h-max min-h-screen"},q={href:"/TrainingCalendarEditor"},F={class:"xl:ml-16 my-4 mx-8 px-6 py-2 rounded-md bg-theme1 transition duration-150 border border-black text-theme2 hover:scale-110 hover:-translate-y-1"},L={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 overflow-y-hidden space-y-1 h-max","data-aos":"fade-up","data-aos-duration":"1000"},O=e("div",{class:"max-w-7xl bg-white xl:px-8 xl:py-4 py-4 rounded-sm grid grid-cols-6 gap-4 text-xs xl:text-md"},[e("div",{class:"flex justify-center text-center items-center"}," MONTH "),e("div",{class:"flex justify-center text-center items-center"}," COURSE TITLE "),e("div",{class:"flex justify-center text-center items-center"}," VENUE "),e("div",{class:"flex justify-center text-center items-center"}," YEAR "),e("div",{class:"flex justify-center text-center items-center"}),e("div",{class:"flex justify-center text-center items-center"})],-1),R={class:"flex justify-center text-center items-center"},P=["onClick"],Y={class:"flex justify-center text-center items-center"},z=["onClick"],W={class:"text-black text-l"},H=e("br",null,null,-1),G={class:"text-theme1"},J={class:"text-theme1"},K=e("span",{class:"text-black"},"at",-1),Q=e("br",null,null,-1),X=e("h2",{class:"text-red-500 text-2xl"}," Delete Training Calendar ",-1),Z=e("p",{class:"text-theme2 text-4xl mb-5"},"Success!",-1),ee={data(){return{items:[],showModal:!1,confirmdelmodal:!1,confirmname:"",confirmdate:"",confirmyear:"",confirmvenue:"",itemcv:""}},mounted(){axios.get(f+"/displayCalendarTrainingAdmin").then(t=>{this.items=t.data,console.log(this.items)}).catch(t=>{console.log(t)})},computed:{reversedItems(){return this.items.slice().reverse()}},methods:{navigateToUpdate(t){window.location.href=this.route("TrainingCalendarUpdate",{idTC:t})},confirmdel(t){this.showModal=!0,this.confirmname=t.event.courseTitle,this.confirmdate=t.month,this.confirmyear=t.year,this.confirmvenue=t.event.Venue,this.itemcv=t.idCV},navigatetoDelete(){this.showModal=!1,this.confirmdelmodal=!0,console.log(this.itemcv);let t=new URLSearchParams,s=parseInt(this.itemcv);t.append("idCV",s),axios.delete(f+"/deleteCalendar?"+t.toString()).then(n=>{console.log(n.data);async function r(){await new Promise(u=>setTimeout(u,1e3)),window.location.href=route("TrainingCalendar")}r()}).catch(n=>{console.log(n)})}}};_.init({startEvent:"load",once:"true,"});_.refresh();const le=Object.assign(ee,{__name:"TrainingCalendar",setup(t){return w.add(C),(s,n)=>(c(),v(b,null,{header:l(()=>[B]),default:l(()=>[e("div",I,[e("a",q,[e("button",F,[a(" Add Training Calendar "),d(g(T),{icon:"fa-solid fa-plus",class:"pl-2 hover:text-white"})])]),e("div",L,[O,(c(!0),m(x,null,y(s.reversedItems,(r,u)=>(c(),m(x,{key:r.idTC},[d(U,{month:r.month,coursetitle:r.event.courseTitle,venue:r.event.Venue,year:r.year,buttonid:r.idTC,"data-aos":"fade-up","data-aos-duration":"500"},{default:l(()=>[e("div",R,[e("button",{onClick:i=>s.navigateToUpdate(r.idTC),class:"py-2 xl:px-8 px-4 rounded-full bg-blue-400 xl:rounded-lg text-white text-[11px] xl:text-md transition duration-300 hover:text-blue-400 hover:bg-white border-2 border-blue-400"}," Edit ",8,P)]),e("div",Y,[e("button",{onClick:h(i=>s.confirmdel(r),["prevent"]),class:"py-2 xl:px-8 px-4 rounded-full bg-red-500 xl:rounded-lg text-white text-[11px] xl:text-md transition duration-300 hover:text-red-500 hover:bg-white border-2 border-red-500"}," Delete ",8,z)]),d(k,{show:s.showModal,onClose:n[2]||(n[2]=i=>s.showModal=!1)},{default:l(()=>[e("h2",W,[a(" Are You Sure You Want to Delete "),H,e("span",G,o(s.confirmname),1),a(" on "),e("span",J,[a(o(s.confirmdate)+" "+o(s.confirmyear)+" ",1),K,a(" "+o(s.confirmvenue),1)]),a("? ")]),Q,e("button",{onClick:n[0]||(n[0]=h(i=>s.navigatetoDelete(),["prevent"])),class:"transition duration-300 rounded-lg hover:text-red-500 hover:bg-white border border-red-500 px-4 py-4 bg-red-500 text-white mx-2 text-sm"}," CONFIRM "),e("button",{class:"transition duration-300 rounded-lg hover:text-black hover:bg-white border border-zinc-400 px-4 py-4 bg-zinc-400 text-white mx-2 text-sm",onClick:n[1]||(n[1]=i=>s.showModal=!1)}," CANCEL ")]),_:1},8,["show"])]),_:2},1032,["month","coursetitle","venue","year","buttonid"]),d(j,{show:s.confirmdelmodal,onClose:n[3]||(n[3]=i=>s.confirmdelmodal=!1)},{default:l(()=>[X,Z]),_:1},8,["show"])],64))),128))])])]),_:1}))}});export{le as default};
